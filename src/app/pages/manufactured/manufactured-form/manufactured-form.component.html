<!-- <app-dialog [title]="'Añadir Manufacturado'">
  <mat-vertical-stepper linear="true" #stepper>
    <mat-step [stepControl]="firstFormGroup">
    <mat-step>
      <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Información básica</ng-template>

      <div class="mt-3">
        <div class="d-flex">
          <mat-form-field class="w-100 mr-3">
            <mat-label>Titulo</mat-label>
            <input matInput required placeholder="Ex. Pizza">
          </mat-form-field>

          <mat-form-field class="flex-shrink-1">
            <mat-label>Precio de venta</mat-label>
            <input matInput currencyMask required placeholder="$ 0,00">
          </mat-form-field>
        </div>
        <mat-form-field class="w-100">
          <mat-label>Descripción</mat-label>
          <textarea matInput placeholder="Agrega una descripción"></textarea>
        </mat-form-field>
      </div>

      <div>
        <button mat-button matStepperNext>Siguiente</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Información detallada</ng-template>

      <div class="mt-3">

        <div class="mb-4">
          <mat-label>Tiempo de preparación: 15m.</mat-label>
        </div>
        <mat-slider class="w-100" [displayWith]="formatLabel" max="90" min="0" step="5" thumbLabel="true"
          tickInterval="3">
        </mat-slider>

        <mat-form-field class="w-100">
          <mat-label>Categoría</mat-label>
          <mat-select required>
            <mat-option *ngFor="let categoria of categorias" [value]="categoria">
              {{ categoria.imagen }} | {{categoria.denominacion}}
            </mat-option>
          </mat-select>
        </mat-form-field>

      </div>

      <div>
        <button mat-button matStepperPrevious>Volver</button>
        <button mat-button matStepperNext>Siguiente</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Especifica los ingredientes</ng-template>

      <div>
        <button mat-button matStepperPrevious>Volver</button>
        <button mat-button matStepperNext>Siguiente</button>
      </div>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Agrega una imagen</ng-template>
      <div class="mt-3">
        <mat-form-field class="w-100">
          <mat-label>URL de imagen</mat-label>
          <input matInput required>
        </mat-form-field>

      </div>

      <div>
        <button mat-button matStepperPrevious>Volver</button>
        <button mat-button (click)="stepper.reset()">Guardar</button>
      </div>
    </mat-step>
  </mat-vertical-stepper>
</app-dialog>
 -->
<app-dialog title=" {{ action }} Manufacturado ">
  <form [formGroup]="manufacturedForm" novalidate>
    <h2 class="mt-3 mb-2">Información básica</h2>
    <div class="d-flex pb-2">
      <!-- Denominación Input -->
      <mat-form-field class="flex-grow-1 mr-3">
        <mat-label>Denominación</mat-label>
        <input matInput placeholder="Por favor indique la denominación." formControlName="denominacion" required>
        <mat-error *ngIf="errorHandling('denominacion', 'required')">
          La denominación es <strong>obligatorio</strong>.
        </mat-error>
      </mat-form-field>
      <!-- Precio Input -->
      <mat-form-field class="flex-shrink-1">
        <mat-label>Precio</mat-label>
        <input matInput currencyMask placeholder="Por favor indique la precio." formControlName="precio" required>
        <mat-error *ngIf="errorHandling('precio', 'required')">
          El precio es <strong>obligatorio</strong>.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Descripción Textarea -->
    <mat-form-field class="w-100 pb-2">
      <mat-label>Descripción</mat-label>
      <textarea matInput placeholder="Escribe una descripción." formControlName="descripcion"></textarea>
    </mat-form-field>

    <!-- Oculto Checkbox -->
    <mat-checkbox class="w-100 pb-2" formControlName="oculto">
      ¿Desea que el articulo sea público?
    </mat-checkbox>

    <h2>Especifica la categoría y la imagen</h2>
    <!-- Categoría Select -->
    <mat-form-field class="w-100 pb-2">
      <mat-label>Seleccione la categoría</mat-label>
      <mat-select formControlName="categoria">
        <mat-option *ngFor="let categoria of categorias" [value]="categoria">
          {{ categoria.imagen }} | {{categoria.denominacion}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="errorHandling('categoria', 'required')">
        La categoría es <strong>obligatorio</strong>.
      </mat-error>
    </mat-form-field>

    <div class="d-flex pb-2">
      <div class="w-25">
        <img onerror="this.src='assets/images/cards/card.jpg'" [src]="imagen.value">
      </div>
      <!-- Imagen URL Textarea -->
      <div class="w-75 ml-3">
        <mat-form-field class="w-100">
          <mat-label>Imagen URL</mat-label>
          <textarea matInput required placeholder="Por favor indique la url de la imagen."
            formControlName="imagen"></textarea>
          <mat-error *ngIf="errorHandling('imagen', 'required')">
            La URL de la imagen es <strong>obligatorio</strong>.
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <h2 class="mt-3 mb-2">Especifica los ingredientes</h2>
    <div class="mb-4">
      <mat-label>Tiempo estimado de preparación: <strong> {{ tiempoEstimadoCocina.value }} min </strong>.</mat-label>
    </div>
    <mat-slider class="w-100" color="primary" [displayWith]="formatLabel" max="90" min="0" step="5" thumbLabel="true"
      tickInterval="3" formControlName="tiempoEstimadoCocina">
    </mat-slider>
    <mat-error *ngIf="errorHandling('tiempoEstimadoCocina', 'required')">
      El tiempo estimado de preparación es <strong>obligatorio</strong>.
    </mat-error>

    <mat-table [dataSource]="detallesReceta.value">
      <!-- Insumo Column -->
      <ng-container matColumnDef="insumo">
        <mat-header-cell *matHeaderCellDef> INSUMO </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{ row.insumo.denominacion }} </mat-cell>
        <mat-footer-cell *matFooterCellDef> Total </mat-footer-cell>
      </ng-container>
      <!-- Cantidad Column -->
      <ng-container matColumnDef="cantidad">
        <mat-header-cell *matHeaderCellDef> CANTIDAD </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.cantidad | number }} </mat-cell>
        <mat-footer-cell *matFooterCellDef></mat-footer-cell>
      </ng-container>
      <!-- Public Column -->
      <ng-container matColumnDef="oculto">
        <mat-header-cell *matHeaderCellDef> PUBLICO </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <!-- <app-public [data]="row.oculto"></app-public> -->
          {{ row.oculto }}
        </mat-cell>
      </ng-container>
      <!-- Action column -->
      <ng-container matColumnDef="acciones">
        <mat-header-cell *matHeaderCellDef> ACCIONES </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <!-- Edit Button -->
          <button mat-button mat-icon-button matTooltip="Editar" (click)="onSubmit(row)">
            <mat-icon class="material-icons-round" color="primary"> edit </mat-icon>
          </button>
          <!-- Delete Button -->
          <button mat-button mat-icon-button matTooltip="Eliminar" (click)="onDelete(row)">
            <mat-icon class="material-icons-round" color="warn"> delete </mat-icon>
          </button>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    <!-- Boton añadir -->
    <div class="py-3 d-flex flex-row-reverse">
      <button mat-raised-button color="primary" (click)="onSubmit({})">
        <mat-icon [inline]="true" class="material-icons-round mr-2"> add </mat-icon>
        Agregar detalle
      </button>
    </div>
  </form>
  <mat-dialog-actions align="end" class="mb-3">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-flat-button color="primary" [disabled]="!manufacturedForm.valid" (click)="onAction()">
      {{ action }}
    </button>
  </mat-dialog-actions>
</app-dialog>
